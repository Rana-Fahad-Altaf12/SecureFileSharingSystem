<div class="container mt-5">
    <div class="card shadow p-4">
      <h3 class="mb-4">Upload File</h3>
  
      <div *ngIf="message" class="alert alert-info">{{ message }}</div>
  
      <div class="mb-3">
        <input type="file" (change)="onFileSelected($event)" class="form-control" />
      </div>
  
      <button (click)="upload()" class="btn btn-success" [disabled]="loading || !file">
        <span *ngIf="loading" class="spinner-border spinner-border-sm me-2"></span>
        Upload
      </button>
  
      <div class="mt-4">
        <h5>Uploaded Files</h5>
        <div *ngIf="loadingFiles" class="spinner-border text-primary" role="status">
          <span class="visually-hidden">Loading...</span>
        </div>
        <ul *ngIf="!loadingFiles && files.length > 0" class="list-group">
          <li *ngFor="let file of files" class="list-group-item d-flex justify-content-between align-items-center">
            {{ file.fileName }}
            <button class="btn btn-outline-primary btn-sm" (click)="download(file.id)" [disabled]="downloadingFiles[file.id]">
                <span *ngIf="downloadingFiles[file.id]" class="spinner-border spinner-border-sm me-2"></span>
                Download
              </button>
          </li>
        </ul>
        
        <div *ngIf="!loadingFiles && files.length === 0">
            No files uploaded yet.
        </div>
      </div>
    </div>
  </div>
  